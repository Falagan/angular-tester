{"version":3,"file":"services.js","sources":["ng://services/lib/mercurio/mercurio.service.ts","ng://services/lib/mercurio/login.service.ts","ng://services/lib/services.module.ts"],"sourcesContent":["import {Injectable, Optional} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {ServicesConfig} from '../services.config.interface';\nimport {MercurioBody, MercurioRequest, MercurioResponse} from 'cibeles/models';\n\n\n@Injectable()\nexport class MercurioService<T> {\n  private httpOptions: { headers: HttpHeaders };\n  private url: string;\n\n  constructor(@Optional() config: ServicesConfig, private httpClient: HttpClient) {\n\n    this.httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/x-www-form-urlencoded'\n      })\n    };\n\n    this.url = config.servers.mercurio;\n  }\n\n  post(request: T): Observable<MercurioResponse> {\n\n    const body: MercurioBody<T> = {\n      Entrada: request,\n      Id: '',\n      Metodo: '',\n      Servicio: 'servicios',\n      Tipo: '',\n      URL: this.url\n    };\n\n    return this.httpClient.post<MercurioResponse>(this.url, body, this.httpOptions);\n  }\n\n  get(request: MercurioRequest): Observable<MercurioResponse> {\n    return this.httpClient.get<MercurioResponse>(this.url);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {MercurioService} from './mercurio.service';\nimport {Observable, Subject} from 'rxjs';\nimport {MercurioResponse, LoginResponse, LoginRequest} from 'cibeles/models';\nimport {Service} from '../service.interface';\n\n@Injectable()\nexport class LoginService implements Service {\n\n  private loginSubject: Subject<any>;\n\n  constructor(private mercurioService: MercurioService<LoginRequest>) {\n    this.loginSubject = new Subject<any>();\n  }\n\n  request(request: LoginRequest) {\n    this.mercurioService.post(request).subscribe(\n      (response: MercurioResponse) => this.loginSubject.next(response.Salida as LoginResponse)\n    );\n  }\n\n  get(): Observable<LoginResponse> {\n    return this.loginSubject.asObservable();\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {LoginService} from './mercurio/login.service';\n\n@NgModule({\n  declarations: [],\n  imports: [],\n  exports: [],\n  providers: [LoginService]\n})\nexport class ServicesModule {\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;;AAQA,MAAa,eAAe;;;;;IAI1B,YAAwB,MAAsB,EAAU,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QAE5E,IAAI,CAAC,WAAW,GAAG;YACjB,OAAO,EAAE,IAAI,WAAW,CAAC;gBACvB,cAAc,EAAE,mCAAmC;aACpD,CAAC;SACH,CAAC;QAEF,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;KACpC;;;;;IAED,IAAI,CAAC,OAAU;;cAEP,IAAI,GAAoB;YAC5B,OAAO,EAAE,OAAO;YAChB,EAAE,EAAE,EAAE;YACN,MAAM,EAAE,EAAE;YACV,QAAQ,EAAE,WAAW;YACrB,IAAI,EAAE,EAAE;YACR,GAAG,EAAE,IAAI,CAAC,GAAG;SACd;QAED,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAmB,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;KACjF;;;;;IAED,GAAG,CAAC,OAAwB;QAC1B,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAmB,IAAI,CAAC,GAAG,CAAC,CAAC;KACxD;;;YAhCF,UAAU;;;;4CAKI,QAAQ;YAXf,UAAU;;;;;;;IAQhB,sCAA8C;;;;;IAC9C,8BAAoB;;;;;IAE4B,qCAA8B;;;;;;;ACZhF,MAOa,YAAY;;;;IAIvB,YAAoB,eAA8C;QAA9C,oBAAe,GAAf,eAAe,CAA+B;QAChE,IAAI,CAAC,YAAY,GAAG,IAAI,OAAO,EAAO,CAAC;KACxC;;;;;IAED,OAAO,CAAC,OAAqB;QAC3B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS;;;;QAC1C,CAAC,QAA0B,KAAK,IAAI,CAAC,YAAY,CAAC,IAAI,oBAAC,QAAQ,CAAC,MAAM,GAAkB,EACzF,CAAC;KACH;;;;IAED,GAAG;QACD,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;KACzC;;;YAjBF,UAAU;;;;YALH,eAAe;;;;;;;IAQrB,oCAAmC;;;;;IAEvB,uCAAsD;;;;;;;ACXpE,MASa,cAAc;;;YAN1B,QAAQ,SAAC;gBACR,YAAY,EAAE,EAAE;gBAChB,OAAO,EAAE,EAAE;gBACX,OAAO,EAAE,EAAE;gBACX,SAAS,EAAE,CAAC,YAAY,CAAC;aAC1B;;;;;;;;;;;;;;;"}